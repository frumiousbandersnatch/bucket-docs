<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-12-29 Wed 11:57 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Bucket (pail on snoonet) documentation</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="XKCD Bucket Wiki" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="styles/readtheorg/css/htmlize.css"/>
<link rel="stylesheet" type="text/css" href="styles/readtheorg/css/readtheorg.css"/>
<script type="text/javascript" src="styles/lib/js/jquery.min.js"></script>
<script type="text/javascript" src="styles/lib/js/bootstrap.min.js"></script>
<script type="text/javascript" src="styles/lib/js/jquery.stickytableheaders.min.js"></script>
<script type="text/javascript" src="styles/readtheorg/js/readtheorg.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2020 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Bucket (pail on snoonet) documentation</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#using-the-xkcd-bucket">Using the #XKCD Bucket</a>
<ul>
<li><a href="#addressing">Addressing</a></li>
<li><a href="#teaching-factoids-to-bucket">Teaching factoids to Bucket</a></li>
<li><a href="#searching-for-factoids">Searching for factoids</a></li>
<li><a href="#editing-factoids">Editing factoids</a></li>
<li><a href="#word-class-variable">Word class variable</a></li>
<li><a href="#username-variables">Username variables</a></li>
<li><a href="#object-variables">Object variables</a></li>
<li><a href="#number-variables">Number variables</a></li>
<li><a href="#inventory">Inventory</a></li>
<li><a href="#gender">Gender</a></li>
<li><a href="#special-factoids">Special Factoids</a></li>
<li><a href="#special-functions-non-factoids">Special Functions (non-factoids)</a></li>
<li><a href="#filling-silence">Filling silence</a></li>
</ul>
</li>
<li><a href="#making-your-own-bucket">Making your own Bucket</a>
<ul>
<li><a href="#installing">Installing</a></li>
<li><a href="#configuration-variables">Configuration Variables</a></li>
<li><a href="#sourcecode">Sourcecode</a></li>
<li><a href="#variable-editing">Variable editing</a></li>
<li><a href="#user-commands">User Commands</a></li>
</ul>
</li>
<li><a href="#org23267d9">Portrait of the bot</a></li>
</ul>
</div>
</div>
<p>
<b>(Rescued from <a href="https://web.archive.org/web/20170228183648/http://wiki.xkcd.com/wirc/index.php?title=Bucket&amp;action=edit">archive.org</a> and <a href="https://github.com/frumiousbandersnatch/bucket-docs">converted</a> to Emacs org mode and then to <a href="https://frumiousbandersnatch.github.io/bucket-docs/">HTML</a>)</b>
</p>

<p>
Bucket has an outer shell of metal; within the metal is a protective
layer of high density plastic, in which may or may not reside pure HOH.
There can only be speculation about what else the Bucket contains.
</p>

<div id="outline-container-org63b45d4" class="outline-2">
<h2 id="using-the-xkcd-bucket">Using the #XKCD Bucket</h2>
<div class="outline-text-2" id="text-using-the-xkcd-bucket">
<ol class="org-ol">
<li>Do not make our Bucket stupid or mean. Any stupiding of the Bucket
may cause an op to tell Bucket to ignore you.</li>
<li>Bucket's replies should generally not be meaner or more asshole-y
than the lines that trigger them.</li>
<li><del>Do not alter factoids that are not your own.</del> Nobody owns any
factoids.</li>
<li>Only the ops are allowed to cull stupid or useless factoids. And they
will, boy howdy they will. The only exception to this rule is if the
factoid is about you &#x2013; if someone writes an abusive factoid about
you and the ops have not corrected it, please feel free to edit it
yourself.</li>
<li>Using Bucket as a surrogate asshole will result in either a
revocation of your Bucket privileges or having your ass kicked from
here to Pakistan (unless you live in Pakistan, in which case you will
be booted to occupied North Texas). <b>Making abusive, mean factoids
about anyone else is strictly outlawed</b> and if you are caught doing
it, you will be harshly dealt with. Please tattle on anyone you see
adding abusive factoids, whether in #xkcd or #bucket.</li>
<li>Do not attempt to have Bucket trigger another #xkcd bot. It won't
work, don't try, you'll just really annoy those who have to clean up
your mess. Do it enough and actions will be taken to correct the
situation.</li>
<li>Do not try to put a variable in a factoid trigger. It does not work
that way.</li>
</ol>
</div>

<div id="outline-container-orge574ab0" class="outline-3">
<h3 id="addressing">Addressing</h3>
<div class="outline-text-3" id="text-addressing">
<p>
You need to address Bucket directly to teach him factoids; you can do so
by prefixing your message <code>Bucket,</code> or <code>Bucket:</code> (Your IRC client may
automatically do this).
</p>
</div>

<div id="outline-container-orgbd71e1f" class="outline-4">
<h4 id="if-bucket-doesnt-reply">If Bucket doesn't reply</h4>
<div class="outline-text-4" id="text-if-bucket-doesnt-reply">
<ul class="org-ul">
<li>Make sure you're prefixing messages properly. <code>Bucket~ [command]</code> and
<code>Bucket [command]</code> will not trigger him.</li>
<li>Bucket will not trigger non-addressed factoids which are shorter than
6 letters long. <code>Bucket, dogs</code> will trigger bucket. <code>Dogs</code> on its own
line will not. <code>Bucket, how2love</code> and <code>how2love</code> will trigger the same
factoid.</li>
<li>In PM, do not preface your commands with <code>Bucket, =, just use the
  =[command]</code> directly. You can only query, you cannot teach factoids in
PM.</li>
<li>Bucket might be shut up at the time. Use #bucket (or configured control channel) or PM to check.</li>
<li>Bucket might be ignoring you &#x2013; and only you &#x2013; because an op has told
it to. Probably because you put in some bad factoids.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org6b96f16" class="outline-3">
<h3 id="teaching-factoids-to-bucket">Teaching factoids to Bucket</h3>
<div class="outline-text-3" id="text-teaching-factoids-to-bucket">
</div>

<div id="outline-container-org9fa7143" class="outline-5">
<h5 id="x-is-y">X is Y</h5>
<div class="outline-text-5" id="text-x-is-y">
<p>
The most common type of factoid you can teach to Bucket is by simply
saying <code>X is Y</code>. If someone says "X" later on, Bucket will reply <code>X is Y</code>
</p>

<ul class="org-ul">
<li>Be careful about accidentally creating a new factoid while talking
to Bucket.</li>
<li>You can also say <code>X is also Y</code>, this was formerly required to attach
multiple factoids to one trigger so you may see older users use
this.</li>
<li>If you type <code>X is Y is Z</code>, Bucket will split it on the first <code>is</code>,
making the trigger <code>X</code> and the factoid <code>Y is Z</code> and Bucket will
respond <code>X is Y is Z</code>.</li>
<li>If you wanted <code>X is Y</code> to trigger <code>Z</code>, teach Bucket <code>X is Y &lt;is&gt; Z</code>.
See more ways to verb.</li>
</ul>
</div>
</div>

<div id="outline-container-orga96a95d" class="outline-5">
<h5 id="x-are-y">X are Y</h5>
<div class="outline-text-5" id="text-x-are-y">
<p>
Similar to <code>X is Y</code>, you can teach this kind of factoid by simply saying
<code>X are Y</code> and if someone says <code>X</code> later on, Bucket will reply <code>X are Y</code>
</p>
</div>
</div>

<div id="outline-container-org5b3783d" class="outline-5">
<h5 id="x-y">X &lt;verb&gt; Y</h5>
<div class="outline-text-5" id="text-x-y">
<p>
You can use other things instead of <code>is</code> or <code>are</code> by putting them inside
greater and lesser-than signs, such as <code>X &lt;loves&gt; Y</code> or <code>X &lt;compliments&gt; Y</code>
</p>
</div>
</div>


<div id="outline-container-orgbe0d1c7" class="outline-5">
<h5 id="x-y-1">X &lt;reply&gt; Y</h5>
<div class="outline-text-5" id="text-x-y-1">
<p>
You can say <code>X &lt;reply&gt; Y</code>, when someone says <code>X</code>, Bucket will respond <code>Y</code>.
</p>

<ul class="org-ul">
<li>You might see some people using <code>X is &lt;reply&gt; Y</code>, this was formerly
required so you may see older users use it.</li>
</ul>
</div>
</div>

<div id="outline-container-orgefe27a7" class="outline-5">
<h5 id="x-y-2">X &lt;action&gt; Y</h5>
<div class="outline-text-5" id="text-x-y-2">
<p>
If you use <code>X &lt;action&gt; Y</code>, when someone says <code>X</code>, Bucket will use <code>/me Y</code>.
</p>

<ul class="org-ul">
<li>Like the above two types, retain the greater-than and lesser-than signs.</li>
</ul>
</div>
</div>

<div id="outline-container-orgdd17372" class="outline-5">
<h5 id="slash-commands">Slash commands</h5>
<div class="outline-text-5" id="text-slash-commands">
<p>
Bucket is not run on a client; she is her own entity. This means that
slash commands (things like <code>/me</code>, <code>/msg</code>, <code>/quit</code>, etc) <b>do not work</b>. <b>Do
not put them in</b>, you'll only anger those who have to clean up your
mess.
</p>

<ul class="org-ul">
<li>Also, escaping (using the <code>\</code> to get things like question marks to
go in on a factoid) is no longer needed.</li>
</ul>
</div>
</div>

<div id="outline-container-org01d7926" class="outline-5">
<h5 id="remember-quote">Remember quote</h5>
<div class="outline-text-5" id="text-remember-quote">
<p>
If you type <code>remember {nick} {snippet}</code> where <code>{snippet}</code> is a snippet
from a line that has been said by the person in <code>{nick}</code>, Bucket will
remember that factoid under the trigger <code>{nick} quotes</code>. When that quote
factoid is triggered, Bucket will respond <code>&lt;Example&gt; Lorem Ipsum</code>
</p>

<ul class="org-ul">
<li>When Bucket is remembering a <code>/me</code> action, instead of the regular
<code>&lt;Example&gt; Lorem Ipsum</code> he'll make an action <code>* Example lorem ipsumed</code>.</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org016ff5e" class="outline-3">
<h3 id="searching-for-factoids">Searching for factoids</h3>
<div class="outline-text-3" id="text-searching-for-factoids">
</div>

<div id="outline-container-org28f1fd0" class="outline-5">
<h5 id="listing-factoids">Listing factoids</h5>
<div class="outline-text-5" id="text-listing-factoids">
<p>
Teh <code>literal X</code> command will give you a list of factoids associated with that
trigger separated with <code>|</code>. If the list of factoids is too large, Bucket
will put them them on another "page" and indicate how many factoids are
on the subsequent pages by appending something like <code>72 more</code> on the
list of factoids. You can browse the next pages by using <code>literal[2] X</code>,
replacing <code>2</code> with the number of the page you wish to check.
</p>
</div>
</div>

<div id="outline-container-orgcdb3932" class="outline-5">
<h5 id="list-factoids-in-a-text-file">List factoids in a text file</h5>
<div class="outline-text-5" id="text-list-factoids-in-a-text-file">
<p>
Typing <code>literal[*] X</code> will make Bucket produce a url linking to a text
file of all the factoids associated with that trigger.
</p>
</div>
</div>

<div id="outline-container-org3b901a0" class="outline-5">
<h5 id="triggering-a-specific-factoid">Triggering a specific factoid</h5>
<div class="outline-text-5" id="text-triggering-a-specific-factoid">
<p>
<code>X =~ /m/</code> will make Bucket reply with the first factoid in that trigger
which contains <code>m</code>.
</p>
</div>
</div>

<div id="outline-container-org75cffbf" class="outline-5">
<h5 id="listing-the-details-of-a-factoid">Listing the details of a factoid</h5>
<div class="outline-text-5" id="text-listing-the-details-of-a-factoid">
<p>
<code>what was that?</code> will make Bucket list the factoid's details thusly:
<code>That was X(#77777): &lt;reply&gt; Y</code>, the number being the factoid's ID.
</p>
</div>
</div>
</div>

<div id="outline-container-org529ce62" class="outline-3">
<h3 id="editing-factoids">Editing factoids</h3>
<div class="outline-text-3" id="text-editing-factoids">
</div>

<div id="outline-container-orgafca834" class="outline-5">
<h5 id="substitution-editing">Substitution editing</h5>
<div class="outline-text-5" id="text-substitution-editing">
<p>
Telling Bucket <code>X =~ s/m/n/</code> will replace <code>m</code> with <code>n</code> in the factoids
for the trigger <code>X</code>. Adding an <code>i</code> flag as in <code>X =~ s/m/n/i</code> replaces
case-insensitively. If there are multiple occurrences of <code>m</code>, Bucket
will edit the first instance in the trigger's first matching factoid.
Ops can add a <code>g</code> flag to replace all occurrences.
</p>

<p>
Slashes should not be backslash-escaped in the string&#x2013;use any other
delimiter, such as a comma, as a replacement for slashes. Example: to
change <code>The best site &lt;is&gt; http://google.com/search</code> to <code>The best site &lt;is&gt; http://xkcd.com</code>, 
you could type: <code>Bucket: The best site =~ s,http://google.com/search,http://xkcd.com</code>
</p>
</div>
</div>

<div id="outline-container-org3bec17f" class="outline-5">
<h5 id="undo">Undo</h5>
<div class="outline-text-5" id="text-undo">
<p>
<code>undo last</code> undoes the last change made to a factoid (editing one,
adding one, deleting one.) Non-ops can undo last only if they made the
last change.
</p>
</div>
</div>
</div>

<div id="outline-container-orge7648a2" class="outline-3">
<h3 id="word-class-variable">Word class variable</h3>
<div class="outline-text-3" id="text-word-class-variable">
<p>
Putting a word class variable in a factoid will replace the variable
with a word from the appropriate word class. Variables apply only to
Bucket's responses. For example, telling bucket <code>play with $who &lt;reply&gt; what would you like me to play with $who?</code> will not work.
</p>
</div>

<div id="outline-container-orgc1545df" class="outline-5">
<h5 id="noun">$noun</h5>
<div class="outline-text-5" id="text-noun">
<p>
Use <code>$noun</code> to place a noun variable which will become a noun when the
factoid is triggered.  Bucket knows plurals and will properly work
if you use <code>a $noun</code> or <code>some $nouns</code>.
</p>
</div>
</div>

<div id="outline-container-org52812a6" class="outline-5">
<h5 id="verb">$verb</h5>
<div class="outline-text-5" id="text-verb">
<p>
Use <code>$verb</code> to place a verb variable which will become a verb when the
factoid is triggered.  Bucket knows plurals and tenses so <code>$verbs</code>,
<code>$verbed</code> and <code>$verbing</code> may be used.
</p>
</div>
</div>

<div id="outline-container-org76d08e7" class="outline-5">
<h5 id="adjective">$adjective</h5>
<div class="outline-text-5" id="text-adjective">
<p>
Use <code>$adjective</code> to place an adjective variable which will become an
adjective when the factoid is triggered.
</p>
</div>
</div>

<div id="outline-container-org993600f" class="outline-5">
<h5 id="preposition">$preposition</h5>
<div class="outline-text-5" id="text-preposition">
<p>
Use <code>$preposition</code> to place a proposition variable which will become a
preposition when the factoid is triggered.
</p>
</div>
</div>
</div>

<div id="outline-container-orgfc08528" class="outline-3">
<h3 id="username-variables">Username variables</h3>
<div class="outline-text-3" id="text-username-variables">
<p>
Putting a username variable in a factoid will replace the variable with
a username when triggered.
</p>
</div>

<div id="outline-container-orgaff1748" class="outline-5">
<h5 id="who">$who</h5>
<div class="outline-text-5" id="text-who">
<p>
<code>$who</code> will be replaced by the name of the person who triggered the
factoid.
</p>
</div>
</div>

<div id="outline-container-orga183595" class="outline-5">
<h5 id="someone">$someone</h5>
<div class="outline-text-5" id="text-someone">
<p>
<code>$someone</code> will be replaced by a username chosen from recent posters.
Note, <code>$someone</code> used to be completely random, but was changed so that
Bucket doesn't bother idle users as much.
</p>
</div>
</div>

<div id="outline-container-org60d7311" class="outline-5">
<h5 id="to">$to</h5>
<div class="outline-text-5" id="text-to">
<p>
<code>$to</code> will be replaced by the intended recipient, e.g. <code>&lt;Someone&gt;
Bucket: yada yada</code> will replace <code>$to</code> with <code>Bucket</code>.  If there is no
intended recipient, it will fall back on <code>$someone</code>.
</p>
</div>
</div>

<div id="outline-container-org2aed7ef" class="outline-5">
<h5 id="op">$op</h5>
<div class="outline-text-5" id="text-op">
<p>
<code>$op</code> will be replaced by the name of one of the Ops.  Pro tip: annoy
ops at your own risk.
</p>
</div>
</div>
</div>

<div id="outline-container-orge9506ce" class="outline-3">
<h3 id="object-variables">Object variables</h3>
<div class="outline-text-3" id="text-object-variables">
</div>

<div id="outline-container-orga9efd9d" class="outline-5">
<h5 id="vehicle">$vehicle</h5>
<div class="outline-text-5" id="text-vehicle">
<p>
<code>$vehicle</code> will be replaced with a vehicle.
</p>
</div>
</div>

<div id="outline-container-org203eb56" class="outline-5">
<h5 id="room">$room</h5>
<div class="outline-text-5" id="text-room">
<p>
<code>$room</code> will be replaced with a room.
</p>
</div>
</div>

<div id="outline-container-orge62f69d" class="outline-5">
<h5 id="ejaculation">$ejaculation</h5>
<div class="outline-text-5" id="text-ejaculation">
<p>
<code>$ejaculation</code> will be replaced with a exclamation. <i>Support for this
feature is deprecated</i>
</p>
</div>
</div>

<div id="outline-container-org405e324" class="outline-5">
<h5 id="celebrity">$celebrity</h5>
<div class="outline-text-5" id="text-celebrity">
<p>
<code>$celebrity</code> will be replaced with a name of a celebrity.
</p>
</div>
</div>

<div id="outline-container-orgb0b450f" class="outline-5">
<h5 id="mood">$mood</h5>
<div class="outline-text-5" id="text-mood">
<p>
<code>$mood</code> will be replaced with a name of a mood.
</p>
</div>
</div>

<div id="outline-container-orgb95c517" class="outline-5">
<h5 id="color">$color</h5>
<div class="outline-text-5" id="text-color">
<p>
<code>$color</code> will be replaced with the name of a color.
</p>
</div>
</div>

<div id="outline-container-orgfc4d6f4" class="outline-5">
<h5 id="bodypart">$bodypart</h5>
<div class="outline-text-5" id="text-bodypart">
<p>
<code>$bodypart</code> will be replaced with a (probably not scientific) name of a
body part.
</p>
</div>
</div>
</div>

<div id="outline-container-org023821c" class="outline-3">
<h3 id="number-variables">Number variables</h3>
<div class="outline-text-3" id="text-number-variables">
</div>

<div id="outline-container-orgb659772" class="outline-5">
<h5 id="digit">$digit</h5>
<div class="outline-text-5" id="text-digit">
<p>
<code>$digit</code> will be replaced with a random digit from 0 to 9.
</p>

<p>
<code>$nonzero</code> will be replaced with a random digit from 1 to 9.
</p>
</div>
</div>
</div>

<div id="outline-container-orgb83f628" class="outline-3">
<h3 id="inventory">Inventory</h3>
<div class="outline-text-3" id="text-inventory">
<p>
Bucket uses the new RFC inventory system. 
</p>
</div>

<div id="outline-container-org6e31379" class="outline-4">
<h4 id="listing-buckets-inventory">Listing Bucket's inventory</h4>
<div class="outline-text-4" id="text-listing-buckets-inventory">
<p>
Address <code>inventory</code> to Bucket to get a list of what Bucket contains.
</p>
</div>
</div>

<div id="outline-container-org1955311" class="outline-4">
<h4 id="adding-new-items-to-inventory">Adding new items to inventory</h4>
<div class="outline-text-4" id="text-adding-new-items-to-inventory">
<p>
You can give Bucket new items by making a message that follows the basic
patterns outlined below. (Replacing <code>{item}</code> with the object you wish to
give to Bucket.)
</p>

<pre class="example">
/me puts {item} in Bucket.
/me gives Bucket {item}
/me gives {item} to Bucket
</pre>

<p>
Bucket will ignore your attempt to keep an item in him if the line
ends with a question mark.  Bucket will also ignore your attempt to
keep an item in him if the message contains the word <code>to</code>.
</p>

<p>
Bucket will replace the word <code>his</code> or <code>her</code> with <code>{nick}'s</code>, with
<code>{nick}</code> being the nick of the person giving him the item. Example:
<code>/me gives Bucket his banana</code> would add <code>&lt;nick&gt;' banana</code> to Bucket's
inventory. Bucket will not accept duplicate items.
</p>
</div>
</div>

<div id="outline-container-org212dd8e" class="outline-4">
<h4 id="deleting-inventory-items">Deleting inventory items</h4>
<div class="outline-text-4" id="text-deleting-inventory-items">
<p>
Ops can delete items from the inventory (which will also stop them from
ever being automatically created) using the <code>detailed inventory</code> and
<code>delete item #X</code> commands.
</p>
</div>
</div>

<div id="outline-container-orgbe84587" class="outline-4">
<h4 id="inventory-variables">Inventory variables</h4>
<div class="outline-text-4" id="text-inventory-variables">
</div>

<div id="outline-container-org0ac6f66" class="outline-5">
<h5 id="item">$item</h5>
<div class="outline-text-5" id="text-item">
<p>
<code>$item</code> will be replaced by a randomly selected item from Bucket's
inventory.
</p>
</div>
</div>

<div id="outline-container-org8d6f0c2" class="outline-5">
<h5 id="giveitem">$giveitem</h5>
<div class="outline-text-5" id="text-giveitem">
<p>
<code>$giveitem</code> will be replaced by a randomly selected item from Bucket's
inventory and will discard the item.
</p>

<ul class="org-ul">
<li>:: Use sparingly.Creating a factoid that discards many items will
make a fury of ten thousand toilet rolls descend upon you.</li>
</ul>
</div>
</div>

<div id="outline-container-org3402352" class="outline-5">
<h5 id="newitem">$newitem</h5>
<div class="outline-text-5" id="text-newitem">
<p>
<code>$newitem</code> will be replaced by a randomly selected item from a list of
various items Bucket has accumulated over time and will then add the
item to his current inventory.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org49b8907" class="outline-3">
<h3 id="gender">Gender</h3>
<div class="outline-text-3" id="text-gender">
<p>
Bucket now has support for genders. 
More specifically, you will be able to tell Bucket by which pronoun you
would like to be referred to.
</p>
</div>

<div id="outline-container-org6ef5eca" class="outline-4">
<h4 id="grammatical-genders">Grammatical genders</h4>
<div class="outline-text-4" id="text-grammatical-genders">
<p>
This is a table of the five types of genders that you can choose and
what pronouns are associated with them:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Grammatical Gender</th>
<th scope="col" class="org-left">Subjective</th>
<th scope="col" class="org-left">Objective</th>
<th scope="col" class="org-left">Reflexive</th>
<th scope="col" class="org-left">Possessive Pronoun</th>
<th scope="col" class="org-left">Possessive Determiner</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Male</td>
<td class="org-left">he</td>
<td class="org-left">him</td>
<td class="org-left">himself</td>
<td class="org-left">his</td>
<td class="org-left">his</td>
</tr>

<tr>
<td class="org-left">Female</td>
<td class="org-left">she</td>
<td class="org-left">her</td>
<td class="org-left">herself</td>
<td class="org-left">hers</td>
<td class="org-left">her</td>
</tr>

<tr>
<td class="org-left">Androgynous</td>
<td class="org-left">they</td>
<td class="org-left">them</td>
<td class="org-left">themself</td>
<td class="org-left">theirs</td>
<td class="org-left">their</td>
</tr>

<tr>
<td class="org-left">Inanimate</td>
<td class="org-left">it</td>
<td class="org-left">it</td>
<td class="org-left">itself</td>
<td class="org-left">its</td>
<td class="org-left">its</td>
</tr>

<tr>
<td class="org-left">Full name</td>
<td class="org-left">&lt;name&gt;</td>
<td class="org-left">&lt;name&gt;</td>
<td class="org-left">&lt;name&gt;</td>
<td class="org-left">&lt;name&gt;'s</td>
<td class="org-left">&lt;name&gt;</td>
</tr>
</tbody>
</table>

<ul class="org-ul">
<li>The male set of pronouns uses the traditionally male pronouns, "he",
"him" and "himself".</li>
<li>The female set of pronouns uses the traditionally female pronouns,
"she", "her" and "herself".</li>
<li>The androgynous set of pronouns uses the gender neutral singular they,
"they", "them" and "themself".</li>
<li>The inanimate set of pronouns uses the gender neutral "it", often used
on inanimate objects, "it" "its" and "itself".</li>
<li>The Full name set of&#x2026;"pronouns" simply uses the user's name.</li>
</ul>
</div>
</div>

<div id="outline-container-orgd0e6f0d" class="outline-4">
<h4 id="setting-and-looking-up-genders">Setting and looking up genders</h4>
<div class="outline-text-4" id="text-setting-and-looking-up-genders">
<p>
You can set your own gender by addressing <code>I am {gender}</code> to Bucket,
replacing <code>{gender}</code> with the gender of your choice.
</p>

<p>
You can ask what is the gender of another user by asking <code>what gender
is {username}</code>.
</p>
</div>
</div>

<div id="outline-container-orgba5a2b2" class="outline-4">
<h4 id="gender-variables">Gender Variables</h4>
<div class="outline-text-4" id="text-gender-variables">
<p>
The following variables can be used in factoids, and will use the
correct pronoun if a factoid contains <code>$someone</code> or <code>$who</code>.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">Subjective</th>
<th scope="col" class="org-left">Objective</th>
<th scope="col" class="org-left">Reflexive</th>
<th scope="col" class="org-left">Possessive Pronoun</th>
<th scope="col" class="org-left">Possessive Determiner</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Variable</td>
<td class="org-left">$subjective, $shehe, $heshe, $he, $she, $they, $it</td>
<td class="org-left">$objective, $him, $her, $them, $himher, $herhim</td>
<td class="org-left">$reflexive, $himselfherself, $herselfhimself, $himself, $herself, $themself, $itself</td>
<td class="org-left">$possessive, $hishers, $hershis, $hers, $theirs</td>
<td class="org-left">$determiner, $hisher, $herhis, $their</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-orgf69ab5d" class="outline-3">
<h3 id="special-factoids">Special Factoids</h3>
<div class="outline-text-3" id="text-special-factoids">
<p>
There are a few factoids that are used to generate replies to specific
situations:
</p>

<dl class="org-dl">
<dt><code>Don't know</code></dt><dd>Called when a factoid is requested that has no values.
These responses are taught by the channel ops. (I don't know anything
about that.)</dd>
<dt><code>Band name reply</code></dt><dd>Called randomly when someone uses a short phrase
that sounds like a band name (<code>&lt;reply&gt; "$band" would be a good name for  a band.</code>)</dd>
<dt><code>Tumblr name reply</code></dt><dd>Called randomly when someone uses a short phrase
that sounds like a tumblr name (<code>&lt;reply&gt; [[http://$band.tumblr.com]]</code>).
Sometimes the tumblr name is so awesome that a
<a href="Denizens">denizen</a> creates it. A list of Bucket-created
tumblrs can be found <a href="tumblr">here</a>.</dd>
<dt><code>Duplicate item</code></dt><dd>Called when someone puts an item that is already in
the inventory (<code>&lt;reply&gt; $who: I already have $item.</code>)</dd>
<dt><code>Drops item</code></dt><dd>Called when an item drop is forced (<code>&lt;action&gt; fumbles and drops $giveitem.</code>)</dd>
<dt><code>Pickup full</code></dt><dd>Called when an item is handed to a user, but (s)he has
already been given something (<code>&lt;action&gt; hands $who $giveitem for $item</code>)</dd>
<dt><code>Takes item</code></dt><dd>Called when an item is taken (<code>&lt;action&gt; is now carrying $item.</code>)</dd>
<dt><code>List items</code></dt><dd>Called when someone asks for Bucket's inventory (uses
variable $inventory)</dd>
<dt><code>Uses reply</code></dt><dd>Called when someone says <code>uses &lt;XYZ&gt;</code></dd>
<dt><code>Automatic Haiku</code></dt><dd>Called when a haiku is detected</dd>
</dl>
</div>
</div>

<div id="outline-container-org34107db" class="outline-3">
<h3 id="special-functions-non-factoids">Special Functions (non-factoids)</h3>
<div class="outline-text-3" id="text-special-functions-non-factoids">
<dl class="org-dl">
<dt><code>10+2</code></dt><dd>Bucket can do basic math (<code>+,-,*,/,**</code>). For that to work he
needs to be addressed, the line may only contain numbers and the
aforementioned operations and there must not be a factoid for it (as
example, <code>1+1</code> has its own factoids).</dd>
<dt><code>bad-ass</code></dt><dd>If a message contains a phrase similar to <code>$adjective-ass $noun</code> (like bad-ass car), Bucket will shift the hyphen. See also
<a href="http://xkcd.com/37/">Hyphen</a></dd>
<dt><code>Do you know?</code></dt><dd>If a message starts with the phrase "do you know",
Bucket will respond with "No, but if you hum a few bars I can fake it.</dd>
<dt><code>Say it again</code></dt><dd>If anybody says a line that starts with "say" and
Bucket is not being addressed, Bucket will repeat everything after say
followed by an exclamation mark.</dd>
<dt>sexchange</dt><dd>If a message contains a word starting with ex, there's a
random chance Bucket will repeat the phrase, substituting ex with sex</dd>
<dt>super effective!</dt><dd>If anybody says a line (or performs an action)
that starts with "uses", Bucket may respond with "It's super
effective!"</dd>
<dt>TLA</dt><dd>A three letter acronym without any punctuation will cause
Bucket to respond with a potential meaning of the three letter
acronym, even when not addressed. The meanings are phrases Bucket
considers good band names.</dd>
<dt>the fucking</dt><dd>If a message contains the phrase "the fucking", Bucket
will swap both words</dd>
</dl>
</div>
</div>


<div id="outline-container-org01b3c9b" class="outline-3">
<h3 id="filling-silence">Filling silence</h3>
<div class="outline-text-3" id="text-filling-silence">
<p>
If nobody has said anything in a while (about three minutes), Bucket
will sometimes quote something from one of the following websites:
</p>

<ul class="org-ul">
<li><a href="http://mylifeisaverage.com/">MyLifeIsAverage</a></li>
<li><a href="http://twitter.com/Shitmydadsays">Shit My Dad Says (Twitter)</a></li>
<li><a href="http://twitter.com/FakeAPStylebook">Fake AP Stylebook (Twitter)</a></li>
<li><a href="http://twitter.com/FakeAnimalFacts">Fake Animal Facts (Twitter)</a></li>
<li><a href="http://twitter.com/God_Damn_Batman">God Damn Batman (Twitter)</a></li>
</ul>

<p>
If Bucket doesn't quote one of the websites, he displays a random
factoid.
</p>
</div>
</div>
</div>

<div id="outline-container-org428393a" class="outline-2">
<h2 id="making-your-own-bucket">Making your own Bucket</h2>
<div class="outline-text-2" id="text-making-your-own-bucket">
</div>

<div id="outline-container-orgcd1162b" class="outline-3">
<h3 id="installing">Installing</h3>
<div class="outline-text-3" id="text-installing">
<ul class="org-ul">
<li>Download the source files from
<a href="http://github.com/zigdon/xkcd-Bucket/">http://github.com/zigdon/xkcd-Bucket/</a>, or using git, mirror the
repository from here: <a href="http://github.com/zigdon/xkcd-Bucket.git">http://github.com/zigdon/xkcd-Bucket.git</a></li>
</ul>

<pre class="example">

$ wget http://github.com/zigdon/xkcd-Bucket/raw/master/bucket.pl
$ wget http://github.com/zigdon/xkcd-Bucket/raw/master/bucket.sql
$ wget http://github.com/zigdon/xkcd-Bucket/raw/master/bucket.yml
$ wget http://github.com/zigdon/xkcd-Bucket/raw/master/sample.sql

</pre>

<ul class="org-ul">
<li>Setup a database (MySQL recommended) - for example, on debian or  ubuntu:</li>
</ul>

<pre class="example">
$ sudo apt-get install mysql-server
</pre>

<ul class="org-ul">
<li>Create the tables described in bucket.sql. Note that for the following
commands, you may need to add the arguments "&#x2013;user=root &#x2013;password"
to the mysql commands or it will complain that you are not authorized.</li>
</ul>

<pre class="example">

$ mysqladmin create bucket
$ mysql -D bucket &lt; bucket.sql
$ mysql -D bucket &lt; sample.sql

</pre>

<ul class="org-ul">
<li>Create a user for bucket, and grant all privs on the bucket database</li>
</ul>

<pre class="example">
$ echo 'grant all on bucket.* to bucket identified by "s3kr1tP@ss"' | mysql
</pre>

<ul class="org-ul">
<li>Edit config file (bucket.yml)</li>
<li>Install perl modules (this might take a while):</li>
</ul>

<pre class="example">
$ sudo cpan POE POE::Component::IRC POE::Component::SimpleDBI Lingua::EN::Conjugate Lingua::EN::Inflect Lingua::EN::Syllable YAML HTML::Entities URI::Escape XML::Simple

</pre>
<ul class="org-ul">
<li>Set bucket.pl executable</li>
</ul>

<pre class="example">
$ chmod +x bucket.pl
</pre>

<ul class="org-ul">
<li>Pre-flight checklist

<ul class="org-ul">
<li>Register your bucket's nick with NickServ.</li>
<li>Register your bucket's logging and config channels (if needed), and
configure them as private and restricted.</li>
<li>Add your bucket's nick to the allow list for the logging and config
channels.</li>
</ul></li>

<li>Start bucket:</li>
</ul>

<pre class="example">
$ ./bucket.pl
</pre>

<ul class="org-ul">
<li>Start adding new factoids.</li>
</ul>
</div>
</div>

<div id="outline-container-org9f1b846" class="outline-3">
<h3 id="configuration-variables">Configuration Variables</h3>
<div class="outline-text-3" id="text-configuration-variables">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Meaning</th>
<th scope="col" class="org-right">Default Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>autoload_plugins</code></td>
<td class="org-left">string</td>
<td class="org-left">Space separated list of plugin names to load at startup</td>
<td class="org-right">quote topic</td>
</tr>

<tr>
<td class="org-left"><code>band_name</code></td>
<td class="org-left">percent</td>
<td class="org-left">Chance of checking for a good band name.</td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left"><code>band_var</code></td>
<td class="org-left">string</td>
<td class="org-left">The variable used for band names.</td>
<td class="org-right">band</td>
</tr>

<tr>
<td class="org-left"><code>ex_to_sex</code></td>
<td class="org-left">percent</td>
<td class="org-left">Chance of replacing 'ex' with 'sex'.</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"><code>file_input</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>hide_hostmask</code></td>
<td class="org-left">integer</td>
<td class="org-left">0 = don't hide hostmask, 1 = hide hostmask.</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left"><code>identify_before_autojoin</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>idle_source</code></td>
<td class="org-left">string</td>
<td class="org-left">Source of idle chatter. Current values: MLIA, IMMD, SMDS, factoid, random</td>
<td class="org-right">factoid</td>
</tr>

<tr>
<td class="org-left"><code>increase_mute</code></td>
<td class="org-left">integer</td>
<td class="org-left">How much longer a shut up command will last each time $nick is addressed while shutting up</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left"><code>inventory_preload</code></td>
<td class="org-left">integer</td>
<td class="org-left">How many items should be in the inventory when starting up.</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left"><code>inventory_size</code></td>
<td class="org-left">integer</td>
<td class="org-left">How many items can we hold. Hard limit is twice that number.</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left"><code>lookup_tla</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>max_sub_length</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>minimum_length</code></td>
<td class="org-left">integer</td>
<td class="org-left">What is the minimum length factoid that can trigger Bucket</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>nickserv_msg</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>nickserv_nick</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>item_drop_rate</code></td>
<td class="org-left">integer</td>
<td class="org-left">How many items should be dropped at once when we're over the soft limit</td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"><code>plugin_dir</code></td>
<td class="org-left">string</td>
<td class="org-left">Path to the directory containing all available plugins</td>
<td class="org-right">plugins</td>
</tr>

<tr>
<td class="org-left"><code>random_item_cache_size</code></td>
<td class="org-left">integer</td>
<td class="org-left">How many random items should be stored in memory</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left"><code>random_wait</code></td>
<td class="org-left">integer</td>
<td class="org-left">How long should the channel be idle before idle chatter is called</td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"><code>user_activity_timeout</code></td>
<td class="org-left">integer</td>
<td class="org-left">How long does a user need to be quiet to not be considered for $someone</td>
<td class="org-right">360</td>
</tr>

<tr>
<td class="org-left"><code>repeated_queries</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>the_fucking</code></td>
<td class="org-left">percent</td>
<td class="org-left">Chance of the fucking smartassery.</td>
<td class="org-right">100</td>
</tr>

<tr>
<td class="org-left"><code>timeout</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>tumblr_name</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>user_mode</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>uses_reply</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>value_cache_limit</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>var_limit</code></td>
<td class="org-left">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left"><code>your_mom_is</code></td>
<td class="org-left">percent</td>
<td class="org-left">Chance of refusing to learn a new factoid, insulting your mother instead</td>
<td class="org-right">5</td>
</tr>

<tr>
<td class="org-left"><code>www_root</code></td>
<td class="org-left">string</td>
<td class="org-left">Path to directory in which literal[*] output should be saved</td>
<td class="org-right"><i>empty</i></td>
</tr>

<tr>
<td class="org-left"><code>www_url</code></td>
<td class="org-left">string</td>
<td class="org-left">URL to that same directory</td>
<td class="org-right"><i>empty</i></td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-org675304d" class="outline-4">
<h4 id="from-plugins">From Plugins</h4>
<div class="outline-text-4" id="text-from-plugins">
<p>
The following configuration variables are available when the appropriate
plugin is loaded:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Plugin</th>
<th scope="col" class="org-left">Name</th>
<th scope="col" class="org-left">Type</th>
<th scope="col" class="org-left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left"><code>bananas</code></td>
<td class="org-left"><code>bananas_chance</code></td>
<td class="org-left">percent</td>
<td class="org-left">Chance of randomly saying "bananas"</td>
</tr>

<tr>
<td class="org-left"><code>quotes</code></td>
<td class="org-left"><code>history_size</code></td>
<td class="org-left">integer</td>
<td class="org-left">How many lines should be remembered back for the quoting function</td>
</tr>

<tr>
<td class="org-left"><code>squirrel</code></td>
<td class="org-left"><code>squirrel_chance</code></td>
<td class="org-left">integer</td>
<td class="org-left">Chance of triggering the squirrel sequence</td>
</tr>

<tr>
<td class="org-left"><code>squirrel</code></td>
<td class="org-left"><code>squirrel_shock</code></td>
<td class="org-left">integer</td>
<td class="org-left">Length of the squence</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-org99b515f" class="outline-3">
<h3 id="sourcecode">Sourcecode</h3>
<div class="outline-text-3" id="text-sourcecode">
<p>
This version of Bucket has been in channel since January 21, 2009.
Bucket's sourcecode is available on
<a href="https://github.com/zigdon/xkcd-Bucket/tree/master">github</a>. He's
written in perl, by the way.
</p>
</div>
</div>

<div id="outline-container-org82e0efa" class="outline-3">
<h3 id="variable-editing">Variable editing</h3>
<div class="outline-text-3" id="text-variable-editing">
<p>
Some variables can be edited.
</p>
</div>

<div id="outline-container-orgfcd6937" class="outline-4">
<h4 id="editable-variables">Editable variables</h4>
<div class="outline-text-4" id="text-editable-variables">
<p>
All editable variables are currently protected, which means they
cannot be edited by normal users.
</p>

<p>
Parts of speech
</p>

<ul class="org-ul">
<li><code>$adjective</code></li>
<li><code>$adverb</code></li>
<li><code>$article</code></li>
<li><code>$noun</code></li>
<li><code>$preposition</code></li>
<li><code>$soiafpreposition</code></li>
<li><code>$verb</code></li>
</ul>

<p>
People
</p>

<ul class="org-ul">
<li><code>$band</code></li>
<li><code>$op</code></li>
<li><code>$celebrity</code></li>
</ul>

<p>
Places
</p>

<ul class="org-ul">
<li><code>$country</code></li>
<li><code>$room</code></li>
<li><code>$state</code></li>
<li><code>$place</code></li>
</ul>

<p>
Things
</p>

<ul class="org-ul">
<li><code>$bodypart</code></li>
<li><code>$color</code></li>
<li><code>$ejaculation</code></li>
<li><code>$gait</code></li>
<li><code>$mood</code></li>
<li><code>$occupation</code></li>
<li><code>$profession</code></li>
<li><code>$official</code></li>
<li><code>$vehicle</code></li>
<li><code>$weekday</code></li>
</ul>

<p>
Critters
</p>

<ul class="org-ul">
<li><code>$animal</code></li>
<li><code>$op</code></li>
<li><code>$pokemon</code></li>
</ul>

<p>
Numbers
</p>

<ul class="org-ul">
<li><code>$digit</code></li>
<li><code>$nonzero</code></li>
<li><code>$hex</code></li>
</ul>
</div>
</div>


<div id="outline-container-org1a6d2eb" class="outline-4">
<h4 id="listing-editable-variables">Listing editable variables</h4>
<div class="outline-text-4" id="text-listing-editable-variables">
<p>
Address <code>list vars</code> to Bucket to get a list of known variables that are
editable.
</p>
</div>
</div>

<div id="outline-container-orgf2cf21c" class="outline-4">
<h4 id="listing-the-values-in-a-variable">Listing the values in a variable</h4>
<div class="outline-text-4" id="text-listing-the-values-in-a-variable">
<p>
You can get all the values in a variable by using <code>list var {variable}</code>
with <code>{variable}</code> being replaced by the variable you wish to see.
</p>

<ul class="org-ul">
<li>:: Bucket will display a link to the list of variables if there are
too many variables to list. (Similar to <code>literal[*]</code>)</li>
</ul>
</div>
</div>

<div id="outline-container-org8e58c71" class="outline-4">
<h4 id="adding-to-a-variable">Adding to a variable</h4>
<div class="outline-text-4" id="text-adding-to-a-variable">
<p>
Addressing <code>add value {variable} {value}</code> (replace <code>{variable}</code> with the
variable you wish to add to and replace <code>{value}</code> with the thing you
wish to add to the variable) to Bucket will add a value to that
variable.
</p>
</div>
</div>

<div id="outline-container-orgea4897c" class="outline-4">
<h4 id="removing-from-a-variable">Removing from a variable</h4>
<div class="outline-text-4" id="text-removing-from-a-variable">
<p>
<code>remove value {variable} {value}</code> (again, replace <code>{variable}</code> with the
variable you wish to remove from and replace <code>{value}</code> with the thing
you wish to remove from the variable).
</p>
</div>
</div>


<div id="outline-container-org4df8cb1" class="outline-4">
<h4 id="setting-a-variable-type">Setting a variable type</h4>
<div class="outline-text-4" id="text-setting-a-variable-type">
<p>
<code>var {variable} type {var|verb|noun}</code> Sets the "type" of a variable.
Verb type variables can accept a "-ing" and "-ed" and "-s" suffix, while
noun types can accept "-s" and update the "a/an" prefix. You can see
whether a variable what type a variable is by using "list vars" and
checking if there is a "(n)" for noun-types or a "(v)" for verb-types
behind the variable.
</p>
</div>
</div>
</div>

<div id="outline-container-orgea01036" class="outline-3">
<h3 id="user-commands">User Commands</h3>
<div class="outline-text-3" id="text-user-commands">
</div>

<div id="outline-container-org8aa961d" class="outline-4">
<h4 id="org8aa961d">Adding factoids</h4>
<div class="outline-text-4" id="text-org8aa961d">
<pre class="example">
X is Y
X are Y (plural)
X &lt;reply&gt; Y
X &lt;action&gt; Y
X &lt;&lt;verb&gt;&gt; Y
</pre>

<p>
Where <code>&lt;verb&gt;</code> is some verb, for example: <code>X &lt;drinks&gt; Y</code>.
It lets you use a verb that isn't "is" or "are"!
</p>
</div>
</div>

<div id="outline-container-org2328c58" class="outline-4">
<h4 id="org2328c58">Listings</h4>
<div class="outline-text-4" id="text-org2328c58">
<ul class="org-ul">
<li><code>literal X</code> gives the first few factoids for X</li>
<li><code>literal[#] X</code> pages through the next factoids for X</li>
<li><code>literal[*] X</code> dump out all the factoids for X to a URL</li>
<li><code>list items</code> or <code>inventory</code> lists out the current inventory.</li>
</ul>
</div>
</div>

<div id="outline-container-org840b80a" class="outline-4">
<h4 id="org840b80a">Select</h4>
<div class="outline-text-4" id="text-org840b80a">
<p>
Pick a factoid at random from the factoids of <code>X</code> that includes
<code>phrase</code>:
</p>

<pre class="example">
X =~ /phrase/
</pre>
</div>
</div>

<div id="outline-container-orgf0c7183" class="outline-4">
<h4 id="orgf0c7183">Edit</h4>
<div class="outline-text-4" id="text-orgf0c7183">
<p>
Bucket will replace the first instance of <code>a</code>
it finds with <code>b</code> in the factoid called <code>X</code>:
</p>

<pre class="example">
X =~ s/a/b/
</pre>

<p>
Or, <code>undo last</code> will undo the last modification made (only works if it
was done by the same user who calls undo)
</p>
</div>
</div>

<div id="outline-container-orgc474ce2" class="outline-4">
<h4 id="orgc474ce2">Keywords</h4>
<div class="outline-text-4" id="text-orgc474ce2">
<dl class="org-dl">
<dt><code>$who</code></dt><dd>when a factoid is triggered, all instances of this keyword
will be substituted for by the nick of whomever triggers the factoid.</dd>
<dt><code>$someone</code></dt><dd>replaces with the nick of a random person who may or may
not be in channel at the time.</dd>
<dt><code>$item</code></dt><dd>replaces with a random item in his inventory.</dd>
<dt><code>$giveitem</code></dt><dd>replaces with a random item in his inventory, and deletes
that item.</dd>
</dl>
</div>
</div>

<div id="outline-container-org765b291" class="outline-4">
<h4 id="org765b291">Commands</h4>
<div class="outline-text-4" id="text-org765b291">
<dl class="org-dl">
<dt><code>shut up</code></dt><dd>stop talking in channel for one minute.</dd>
<dt><code>stats</code></dt><dd>Give some numbers on what Bucket knows and has
learned. The totals update every 10 minutes or so.</dd>
<dt><code>something random</code></dt><dd>Show a random factoid.</dd>
<dt><code>what was that?</code></dt><dd>will respond with the factoid related to the
last tidbit uttered.</dd>
<dt><code>list vars</code></dt><dd>show all the defined variables</dd>
<dt><code>list var {variable}</code></dt><dd>show all the values of a variable (or
at least as many as would fit in one line)</dd>
<dt><code>add value {variable} {value}</code></dt><dd>add a new value to the already
defined variable (only if it's unprotected)</dd>
<dt><code>remove value {var} {value}</code></dt><dd>remove value &lt;value&gt; from
variable (only if it's unprotected)</dd>
<dt><code>remember {nick} {snippet}</code></dt><dd>Look in the last few lines in channel
for a line containing the partial line mentioned. If found, add
it to a <code>nick quotes</code> factoid in the form of <code>&lt;{nick}&gt; {line that
     was found}</code>. The number of lines remembered per channel is
controlled by the <code>history_size</code> parameter.</dd>
<dt><code>I am {gender}</code></dt><dd>Tell bucket what gender he should use to
refer to you. See the gender docs for complete details.</dd>
<dt><code>what is my gender?</code></dt><dd>Ask bucket to report your gender.</dd>
<dt><code>restore topic</code></dt><dd>Ask Bucket to restore the previous topic in
the current channel, if possible.</dd>
<dt><code>how many syllables in {word}?</code></dt><dd>Find the number of syllables
Bucket believes to be in the word, as used to find haiku.</dd>
</dl>
</div>
</div>

<div id="outline-container-org746ff62" class="outline-4">
<h4 id="ops-only-commands">Ops only commands</h4>
<div class="outline-text-4" id="text-ops-only-commands">
</div>

<div id="outline-container-org4bdc34e" class="outline-5">
<h5 id="factoids">Factoids</h5>
<div class="outline-text-5" id="text-factoids">
<dl class="org-dl">
<dt><code>alias X =&gt; Y</code></dt><dd>make requests for <code>X</code> return <code>Y</code>. Can be chained,
cannot be looped.</dd>
<dt><code>merge X =&gt; Y</code></dt><dd>first move all of the existing factoids from <code>X</code>
to Y. Then create an alias. Cannot (currently) be undone.</dd>
<dt><code>delete X</code></dt><dd>delete all the factoids for <code>X</code>.</dd>
<dt><code>delete #nnnnn</code></dt><dd>delete the factoid numbered #nnnnn.</dd>
<dt><code>forget that</code></dt><dd>delete the most recent factoid referenced in
this channel (only that answer, not the entire factoid).</dd>
<dt><code>forget #nnnnn</code></dt><dd>delete the factoid numbered #nnnnn.
this doesn't work in private messages unfortunately.</dd>
<dt><code>undo last [#channel]</code></dt><dd>undo the last change made in channel
(or in the specified channel).</dd>
<dt><code>protect X</code></dt><dd>lock down all the factoids for <code>X</code>, so only ops can
modify them. If <code>X</code> is <code>$var</code>, will protect the variable so only ops can
add values to and remove values from it.</dd>
<dt><code>unprotect X</code></dt><dd>opposite of protect.</dd>
<dt><code>lookup #n</code></dt><dd>Show the factoid with ID of <code>n</code>.</dd>
<dt><code>load plugin foo</code></dt><dd>Look for, and load the plugin named <code>foo</code>.
Should be found in the plugins directory, with the name <code>plugin.foo.pl</code></dd>
<dt><code>unload plugin foo</code></dt><dd>Remove the previously loaded plugin</dd>
</dl>
</div>
</div>

<div id="outline-container-org9808bef" class="outline-5">
<h5 id="variables">Variables</h5>
<div class="outline-text-5" id="text-variables">
<dl class="org-dl">
<dt><code>create var {variable}</code></dt><dd>creates a new variable with that
name. By default, new variables are always protected.</dd>
<dt><code>remove var {variable}</code></dt><dd>delete the variable.</dd>
<dt><code>protect X</code></dt><dd>lock down all the factoids for <code>X</code>, so only ops can
modify them. If <code>X</code> is <code>$var</code>, will protect the variable so only ops can
add values to and remove values from it.</dd>
<dt><code>unprotect X</code></dt><dd>opposite of protect.</dd>
</dl>
</div>
</div>

<div id="outline-container-orgdb39e7b" class="outline-5">
<h5 id="items">Items</h5>
<div class="outline-text-5" id="text-items">
<dl class="org-dl">
<dt><code>delete item #n</code></dt><dd>delete item number <code>n</code> from Bucket's carried
inventory and from the database. Use <code>detailed inventory</code> to get the
item numbers for the current inventory.</dd>
<dt><code>detailed inventory</code></dt><dd>list all the items currently carried
with item numbers. Required before a <code>delete item #n</code> command can be
used.</dd>
</dl>
</div>
</div>

<div id="outline-container-orge0e447d" class="outline-5">
<h5 id="settings">Settings</h5>
<div class="outline-text-5" id="text-settings">
<dl class="org-dl">
<dt><code>set X Y</code></dt><dd>Set variable <code>X</code> to <code>Y</code>. If <code>Y</code> isn't specified, will
list all valid configuration variable names.</dd>
<dt><code>get X</code></dt><dd>Read the value of <code>X</code>.</dd>
</dl>
</div>
</div>

<div id="outline-container-org1b104f1" class="outline-5">
<h5 id="users">Users</h5>
<div class="outline-text-5" id="text-users">
<dl class="org-dl">
<dt><code>ignore X</code></dt><dd>Ignore anything <code>X</code> says.</dd>
<dt><code>unignore X</code></dt><dd>Stop ignoring <code>X</code>.</dd>
<dt><code>list ignored</code></dt><dd>List all who are currently ignored.</dd>
<dt><code>exclude X</code></dt><dd>Don't consider <code>X</code> as a valid <code>$someone</code>.</dd>
<dt><code>unexclude X</code></dt><dd>Restore <code>X</code> to the possible list of <code>$someone</code>.</dd>
<dt><code>{nick} is {gender}</code></dt><dd>Set the gender for <code>{nick}</code>. See gender
docs for the complete details.</dd>
<dt><code>don't quote {nick}</code></dt><dd>Don't allow the <code>remember</code> command to be
used on <code>&lt;nick&gt;</code>.</dd>
<dt><code>do quote {nick}</code></dt><dd>Undo the <code>don't quote</code> command.</dd>
</dl>
</div>
</div>

<div id="outline-container-org2fdef81" class="outline-5">
<h5 id="miscellaneous-commands">Miscellaneous commands</h5>
<div class="outline-text-5" id="text-miscellaneous-commands">
<dl class="org-dl">
<dt><code>shut up</code> or <code>go away</code></dt><dd>stop talking in channel. Bucket will still
respond to queries from ops.</dd>
<dt><code>shut up for (a min|a moment|a bit|a while)</code></dt><dd>shut up for some
time then come back (60 sec|1 min  30 sec|6 min  2 min|45 min  15
min). (Ops only; non-ops can say shut up for however long, but Bucket
will still only leave for the usual amount of time)</dd>
<dt><code>shut up for nnn(s|m|h)</code></dt><dd>shut up for nnn seconds, minutes or
hours, then come back. (Ops only; non-ops can say shut up for however
long, but Bucket will still only leave for the usual amount of time)</dd>
<dt><code>unshut up</code> or <code>come back</code></dt><dd>resume talking in channel. (Ops only)</dd>
<dt><code>join #X</code> or <code>part #X</code></dt><dd>guess!</dd>
<dt><code>stat keys</code></dt><dd>List all the known statistic keys.</dd>
<dt><code>stat {key}</code></dt><dd>Get the value of that particular key.</dd>
<dt><code>restore topic #channel</code></dt><dd>Ask Bucket to restore the previous
topic of #channel, if possible.</dd>
<dt><code>{word} has {number} syllables</code></dt><dd>Advise Bucket of the number
of syllables in the word.</dd>
</dl>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org23267d9" class="outline-2">
<h2 id="org23267d9">Portrait of the bot</h2>
<div class="outline-text-2" id="text-org23267d9">

<div class="figure">
<p><img src="Bucket-Tan.png" alt="Bucket-Tan.png" />
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: XKCD Bucket Wiki</p>
<p class="date">Created: 2021-12-29 Wed 11:57</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
